<!doctype html>
<!--[if lt IE 7 ]> <html lang='en' class='no-js ie6'> <![endif]--> <!--[if IE 7 ]>    <html lang='en' class='no-js ie7'> <![endif]--> <!--[if IE 8 ]>    <html lang='en' class='no-js ie8'> <![endif]--> <!--[if IE 9 ]>    <html lang='en' class='no-js ie9'> <![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html lang='en' class='no-js'> <!--<![endif]-->
<head>
    <meta charset='UTF-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>

    <title>Spline Fitting</title>
    <link rel='stylesheet' href='style.css'>
    <link rel='stylesheet' href='flexbox.css'>

    <!--[if lt IE 9]>
    <script src='http://html5shiv.googlecode.com/svn/trunk/html5.js'></script>
    <![endif]-->
</head>
<body>
    <script type='text/html' data-view='SF.FitterPanel'>
        <hbox>
            <vbox class='left'>
                <canvas class='fitter-canvas' width='600' height='600'></canvas>
                <hbox style='width: 100%'>
                    <div class='flex'>{{splineCountString}} fitted to a pattern of {{patternLengthString}}</div>
                    <spring></spring>
                    {{#view SC.Button target="parentView.model" action="fit"}}
                        Refit
                    {{/view}}
                </hbox>
                <table style='width: 100%'>
                    <tr>
                        <td>{{view SC.Checkbox title="Draw the pattern" valueBinding="parentView.shouldDrawPattern"}}</td>
                        <td>{{view SC.Checkbox title="Draw the control polygon" valueBinding="parentView.shouldDrawControlPolygon"}}</td>
                    </tr>
                    <tr>
                        <td>{{view SC.Checkbox title="Draw the fitted polyspline" valueBinding="parentView.shouldDrawPolySpline"}}</td>
                        <td>{{view SC.Checkbox title="Draw correspondences" valueBinding="parentView.shouldDrawCorrespondences"}}</td>
                    </tr>
                </table>
                <div>{{view SF.Slider class="wide" min="0.1" max="50.0" step="0.1" valueBinding="parentView.patternPointMinDistance"}} {{patternPointMinDistance}} is the minimum distance between consecutive pattern points</div>
                <div>{{view SF.Slider min=0 max=10 valueBinding="parentView.model.maxDepth"}} {{model.maxDepth}} is the maximum recursion depth</div>
                <div>{{view SF.Slider min="0.0" max="20.0" step="0.1" valueBinding="parentView.model.maxDistance"}} Split a spline if the pattern is more than {{model.maxDistance}} pixels away from it</div>
                <div>{{view SF.Slider min="0.0" max="150.0" step="0.1" valueBinding="parentView.model.maxImproveDistance"}} Skip refitting a spline if the pattern is more than {{model.maxImproveDistance}} pixels away from it</div>
                <div>{{view SF.Slider min=0 max=5
                    valueBinding="parentView.model.maxImprovements"}} Improve parameter values up to {{maxImprovementsString}} before refitting</div>
                <div>{{view SF.Slider min=1 max=20 valueBinding="parentView.model.maxRefits"}} Refit each spline up to {{maxRefitsString}} before subdividing</div>
                <div>{{view SC.Checkbox title="Refit after last round of parameter improvements" valueBinding="parentView.model.wantFinalRefit"}}</div>
            </vbox>
        </hbox>
    </script>

    <script src='http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.js'></script>
    <script>!window.jQuery && document.write(unescape('%3Cscript src="lib/jquery-1.6.2.js"%3E%3C/script%3E'))</script>
    <script>ENV = { LOG_BINDINGS: false, USE_ACCESSORS: true };</script>
    <script src='lib/sproutcore.js'></script>
    <script src='misc.js'></script>
    <script src='SF.js'></script>
    <script src='SF/Vector.js'></script>
    <script src='SF/FittedPolySpline.js'></script>
    <script src='SF/FitterController.js'></script>
    <script src='SF/UnconstrainedFitter.js'></script>
    <script src='SF/CubicBezierSpline.js'></script>
    <script src='SF/FitterPanel.js'></script>
    <script src='SF/Slider.js'></script>
</body>
</html>
